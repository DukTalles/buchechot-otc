<!DOCTYPE html>
<html>
<head>
    <title>NPC Shop Icon Generator (40x20)</title>
    <style>
        body {
            background: #222;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px;
            font-family: Arial, sans-serif;
            color: white;
        }
        .preview {
            display: flex;
            gap: 40px;
            margin: 20px;
            align-items: flex-start;
            flex-wrap: wrap;
            justify-content: center;
        }
        .icon-container {
            text-align: center;
            background: #333;
            padding: 15px;
            border-radius: 8px;
        }
        canvas {
            border: 1px solid #555;
            image-rendering: pixelated;
            background: #1a1a1a;
        }
        button {
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            margin: 8px;
            background: #4a7c4a;
            color: white;
            border: none;
            border-radius: 5px;
        }
        button:hover { background: #5a9c5a; }
        .buttons { margin-top: 20px; }
        h3 { margin: 5px 0 10px 0; color: #aaa; font-size: 12px; }
        .states { display: flex; gap: 30px; margin-top: 10px; font-size: 10px; color: #888; justify-content: center; }
        .zoom-preview {
            display: flex;
            gap: 20px;
            margin: 20px;
        }
        .zoom-box {
            text-align: center;
        }
        .zoom-label { font-size: 10px; color: #666; margin-top: 5px; }
    </style>
</head>
<body>
    <h1>üè™ NPC Shop Icon Generator (40x20)</h1>
    <p style="color:#888;">Formato: 2 estados horizontais (Normal | Pressed) em 40x20px</p>
    
    <div class="preview" id="previews"></div>
    
    <div class="zoom-preview" id="zoomPreviews"></div>
    
    <div class="buttons" id="buttons"></div>

    <script>
        const icons = [
            {
                name: "Gold Shop (Saco de Moedas)",
                id: "shop_gold",
                draw: function(ctx, s, brightness = 0) {
                    function adjustColor(hex, amount) {
                        let r = parseInt(hex.slice(1,3), 16) + amount;
                        let g = parseInt(hex.slice(3,5), 16) + amount;
                        let bl = parseInt(hex.slice(5,7), 16) + amount;
                        r = Math.max(0, Math.min(255, r));
                        g = Math.max(0, Math.min(255, g));
                        bl = Math.max(0, Math.min(255, bl));
                        return '#' + r.toString(16).padStart(2,'0') + g.toString(16).padStart(2,'0') + bl.toString(16).padStart(2,'0');
                    }
                    
                    const b = brightness;
                    
                    // Saco (corpo marrom)
                    ctx.fillStyle = adjustColor('#8B5A2B', b);
                    ctx.fillRect(4*s, 6*s, 12*s, 12*s);
                    ctx.fillRect(5*s, 5*s, 10*s, 1*s);
                    ctx.fillRect(6*s, 4*s, 8*s, 1*s);
                    
                    // Sombra do saco
                    ctx.fillStyle = adjustColor('#6B4423', b);
                    ctx.fillRect(5*s, 16*s, 10*s, 2*s);
                    ctx.fillRect(14*s, 8*s, 2*s, 8*s);
                    
                    // Highlight do saco
                    ctx.fillStyle = adjustColor('#A0714B', b);
                    ctx.fillRect(5*s, 6*s, 2*s, 8*s);
                    ctx.fillRect(6*s, 5*s, 4*s, 1*s);
                    
                    // La√ßo/abertura do saco (topo)
                    ctx.fillStyle = adjustColor('#6B4423', b);
                    ctx.fillRect(7*s, 2*s, 6*s, 3*s);
                    ctx.fillStyle = adjustColor('#4a3020', b);
                    ctx.fillRect(8*s, 3*s, 4*s, 1*s);
                    
                    // Moeda 1 (vis√≠vel no saco)
                    ctx.fillStyle = adjustColor('#FFD700', b);
                    ctx.fillRect(7*s, 7*s, 4*s, 4*s);
                    ctx.fillStyle = adjustColor('#DAA520', b);
                    ctx.fillRect(9*s, 8*s, 2*s, 2*s);
                    
                    // Moeda 2
                    ctx.fillStyle = adjustColor('#FFD700', b);
                    ctx.fillRect(10*s, 10*s, 4*s, 4*s);
                    ctx.fillStyle = adjustColor('#DAA520', b);
                    ctx.fillRect(12*s, 11*s, 2*s, 2*s);
                    
                    // Moeda 3 (saindo do saco)
                    ctx.fillStyle = adjustColor('#FFD700', b);
                    ctx.fillRect(5*s, 12*s, 4*s, 4*s);
                    ctx.fillStyle = adjustColor('#FFC400', b);
                    ctx.fillRect(5*s, 12*s, 1*s, 3*s);
                    ctx.fillStyle = adjustColor('#B8860B', b);
                    ctx.fillRect(8*s, 13*s, 1*s, 2*s);
                }
            },
            {
                name: "Shop Cart (Carrinho)",
                id: "shop_cart",
                draw: function(ctx, s, brightness = 0) {
                    function adjustColor(hex, amount) {
                        let r = parseInt(hex.slice(1,3), 16) + amount;
                        let g = parseInt(hex.slice(3,5), 16) + amount;
                        let bl = parseInt(hex.slice(5,7), 16) + amount;
                        r = Math.max(0, Math.min(255, r));
                        g = Math.max(0, Math.min(255, g));
                        bl = Math.max(0, Math.min(255, bl));
                        return '#' + r.toString(16).padStart(2,'0') + g.toString(16).padStart(2,'0') + bl.toString(16).padStart(2,'0');
                    }
                    
                    const b = brightness;
                    
                    // Corpo do carrinho
                    ctx.fillStyle = adjustColor('#707070', b);
                    ctx.fillRect(4*s, 6*s, 12*s, 8*s);
                    
                    // Borda do carrinho
                    ctx.fillStyle = adjustColor('#505050', b);
                    ctx.fillRect(4*s, 6*s, 1*s, 8*s);
                    ctx.fillRect(15*s, 6*s, 1*s, 8*s);
                    ctx.fillRect(4*s, 13*s, 12*s, 1*s);
                    
                    // Highlight
                    ctx.fillStyle = adjustColor('#909090', b);
                    ctx.fillRect(5*s, 6*s, 10*s, 1*s);
                    
                    // Al√ßa
                    ctx.fillStyle = adjustColor('#505050', b);
                    ctx.fillRect(2*s, 3*s, 2*s, 4*s);
                    ctx.fillRect(2*s, 3*s, 6*s, 2*s);
                    
                    // Rodas
                    ctx.fillStyle = adjustColor('#303030', b);
                    ctx.fillRect(5*s, 15*s, 3*s, 3*s);
                    ctx.fillRect(12*s, 15*s, 3*s, 3*s);
                    ctx.fillStyle = adjustColor('#505050', b);
                    ctx.fillRect(6*s, 16*s, 1*s, 1*s);
                    ctx.fillRect(13*s, 16*s, 1*s, 1*s);
                    
                    // Moeda no carrinho
                    ctx.fillStyle = adjustColor('#FFD700', b);
                    ctx.fillRect(7*s, 8*s, 5*s, 4*s);
                    ctx.fillStyle = adjustColor('#DAA520', b);
                    ctx.fillRect(9*s, 9*s, 2*s, 2*s);
                }
            },
            {
                name: "Store Building (Loja)",
                id: "shop_building",
                draw: function(ctx, s, brightness = 0) {
                    function adjustColor(hex, amount) {
                        let r = parseInt(hex.slice(1,3), 16) + amount;
                        let g = parseInt(hex.slice(3,5), 16) + amount;
                        let bl = parseInt(hex.slice(5,7), 16) + amount;
                        r = Math.max(0, Math.min(255, r));
                        g = Math.max(0, Math.min(255, g));
                        bl = Math.max(0, Math.min(255, bl));
                        return '#' + r.toString(16).padStart(2,'0') + g.toString(16).padStart(2,'0') + bl.toString(16).padStart(2,'0');
                    }
                    
                    const b = brightness;
                    
                    // Telhado
                    ctx.fillStyle = adjustColor('#8B4513', b);
                    ctx.fillRect(3*s, 2*s, 14*s, 4*s);
                    ctx.fillRect(4*s, 1*s, 12*s, 1*s);
                    ctx.fillStyle = adjustColor('#A0522D', b);
                    ctx.fillRect(4*s, 2*s, 12*s, 1*s);
                    
                    // Corpo da loja
                    ctx.fillStyle = adjustColor('#DEB887', b);
                    ctx.fillRect(4*s, 6*s, 12*s, 12*s);
                    
                    // Sombra
                    ctx.fillStyle = adjustColor('#C4A060', b);
                    ctx.fillRect(14*s, 7*s, 2*s, 10*s);
                    
                    // Porta
                    ctx.fillStyle = adjustColor('#654321', b);
                    ctx.fillRect(8*s, 11*s, 4*s, 7*s);
                    ctx.fillStyle = adjustColor('#8B5A2B', b);
                    ctx.fillRect(8*s, 11*s, 1*s, 6*s);
                    
                    // Janela
                    ctx.fillStyle = adjustColor('#87CEEB', b);
                    ctx.fillRect(5*s, 7*s, 3*s, 3*s);
                    ctx.fillRect(12*s, 7*s, 3*s, 3*s);
                    ctx.fillStyle = adjustColor('#5F9EA0', b);
                    ctx.fillRect(6*s, 8*s, 1*s, 1*s);
                    ctx.fillRect(13*s, 8*s, 1*s, 1*s);
                    
                    // Toldo
                    ctx.fillStyle = adjustColor('#FF6347', b);
                    ctx.fillRect(3*s, 5*s, 14*s, 2*s);
                    ctx.fillStyle = adjustColor('#FFD700', b);
                    ctx.fillRect(4*s, 5*s, 2*s, 2*s);
                    ctx.fillRect(8*s, 5*s, 2*s, 2*s);
                    ctx.fillRect(12*s, 5*s, 2*s, 2*s);
                }
            }
        ];

        const container = document.getElementById('previews');
        const buttonsContainer = document.getElementById('buttons');
        const zoomContainer = document.getElementById('zoomPreviews');
        
        icons.forEach(icon => {
            // Container do √≠cone
            const iconDiv = document.createElement('div');
            iconDiv.className = 'icon-container';
            iconDiv.innerHTML = `<h3>${icon.name}</h3>`;
            
            // Canvas 40x20 (real)
            const canvas = document.createElement('canvas');
            canvas.width = 40;
            canvas.height = 20;
            canvas.id = icon.id;
            const ctx = canvas.getContext('2d');
            ctx.imageSmoothingEnabled = false;
            
            // Desenhar estado normal (esquerda)
            icon.draw(ctx, 1, 0);
            
            // Desenhar estado pressed (direita) - mais escuro
            ctx.save();
            ctx.translate(20, 0);
            icon.draw(ctx, 1, -30);
            ctx.restore();
            
            iconDiv.appendChild(canvas);
            
            // Labels dos estados
            const states = document.createElement('div');
            states.className = 'states';
            states.innerHTML = '<span>Normal</span><span>Pressed</span>';
            iconDiv.appendChild(states);
            
            container.appendChild(iconDiv);
            
            // Preview ampliado (4x zoom)
            const zoomDiv = document.createElement('div');
            zoomDiv.className = 'zoom-box';
            const zoomCanvas = document.createElement('canvas');
            zoomCanvas.width = 160;
            zoomCanvas.height = 80;
            const zctx = zoomCanvas.getContext('2d');
            zctx.imageSmoothingEnabled = false;
            zctx.drawImage(canvas, 0, 0, 160, 80);
            zoomDiv.appendChild(zoomCanvas);
            zoomDiv.innerHTML += `<div class="zoom-label">${icon.name} (4x zoom)</div>`;
            zoomContainer.appendChild(zoomDiv);
            
            // Bot√£o de download
            const btn = document.createElement('button');
            btn.textContent = `‚¨áÔ∏è Download ${icon.id}.png`;
            btn.onclick = () => {
                const link = document.createElement('a');
                link.download = `${icon.id}_btn.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            };
            buttonsContainer.appendChild(btn);
        });
        
        // Bot√£o para baixar todos
        const allBtn = document.createElement('button');
        allBtn.textContent = 'üì¶ Download All';
        allBtn.style.background = '#7c4a4a';
        allBtn.onclick = () => {
            icons.forEach(icon => {
                const canvas = document.getElementById(icon.id);
                const link = document.createElement('a');
                link.download = `${icon.id}_btn.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        };
        buttonsContainer.appendChild(allBtn);
    </script>
</body>
</html>
